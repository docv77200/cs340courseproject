<h1>Sections</h1>

<table>
  <thead>
    <tr>
      <th>Section ID</th><th>Course</th><th>Instructor</th><th>Building</th><th>Room</th><th>Schedule</th><th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each sections}}
      <tr>
        <td>{{this.sectionID}}</td>
        <td>{{this.courseName}}</td>
        <td>{{this.firstName}} {{this.lastName}}</td>
        <td>{{this.building}}</td>
        <td>{{this.roomNumber}}</td>
        <td>{{this.schedule}}</td>
        <td>
          <!-- DELETE -->
          <a href="/sections/delete/{{this.sectionID}}" onclick="return confirm('Are you sure?')">Delete</a>

          <!-- UPDATE FORM -->
          <form method="POST" action="/sections/update" style="margin-top: 5px;">
            <input type="hidden" name="sectionID" value="{{this.sectionID}}" />

            <select name="courseID">
              {{#each ../courses}}
                <option value="{{this.courseID}}" {{#ifCond this.courseID '==' ../this.courseID}}selected{{/ifCond}}>{{this.name}}</option>
              {{/each}}
            </select>

            <select name="instructorID">
              {{#each ../instructors}}
                <option value="{{this.instructorID}}" {{#ifCond this.instructorID '==' ../this.instructorID}}selected{{/ifCond}}>{{this.firstName}} {{this.lastName}}</option>
              {{/each}}
            </select>

            <input type="text" name="building" value="{{this.building}}" required />
            <input type="text" name="roomNumber" value="{{this.roomNumber}}" required />
            <input type="text" name="schedule" value="{{this.schedule}}" required />
            <button type="submit">Update</button>
          </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>

<hr>

<h2>Add Section</h2>
<form action="/sections/add" method="POST">
  <label>Course:</label>
  <select name="courseID" required>
    {{#each courses}}
      <option value="{{this.courseID}}">{{this.name}}</option>
    {{/each}}
  </select><br><br>

  <label>Instructor:</label>
  <select name="instructorID" required>
    {{#each instructors}}
      <option value="{{this.instructorID}}">{{this.firstName}} {{this.lastName}}</option>
    {{/each}}
  </select><br><br>

  <label>Building:</label>
  <input type="text" name="building" required><br><br>

  <label>Room Number:</label>
  <input type="text" name="roomNumber" required><br><br>

  <label>Schedule:</label>
  <input type="text" name="schedule" placeholder="e.g. MWF 10-10:50" required><br><br>

  <button type="submit">Add Section</button>
</form>
